<ContentDialog
    x:Class="SecureFolderFS.WinUI.Dialogs.ChangelogDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:h="using:SecureFolderFS.WinUI.Helpers"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:tuc="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:vc="using:SecureFolderFS.WinUI.ValueConverters"
    Title="What's new"
    DefaultButton="Primary"
    PrimaryButtonText="Awesome!"
    RequestedTheme="{x:Bind h:WindowsThemeHelper.Instance.CurrentElementTheme, Mode=OneWay}"
    Style="{StaticResource DefaultContentDialogStyle}"
    mc:Ignorable="d">

    <ContentDialog.Resources>
        <vc:NullToBoolConverter x:Key="NullToBoolConverter" />
    </ContentDialog.Resources>

    <Grid>
        <ProgressRing
            x:Name="ChangelogProgress"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            x:Load="{x:Bind ViewModel.UpdateText, Mode=OneWay, Converter={StaticResource NullToBoolConverter}, ConverterParameter='invert'}" />

        <ScrollViewer x:Name="ChangelogScroll" x:Load="{x:Bind ViewModel.UpdateText, Mode=OneWay, Converter={StaticResource NullToBoolConverter}}">
            <tuc:MarkdownTextBlock Background="Transparent" Text="{x:Bind ViewModel.UpdateText, Mode=OneWay}" />
        </ScrollViewer>
    </Grid>
</ContentDialog>
